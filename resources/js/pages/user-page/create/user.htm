<div class="container" id="root">
    <loading 
      :height="128"
      :width="128"
      :transition="`fade`"
      :loader="`dots`"
      :background-color="`#fff`"
      :color="`#38d39f`"
      :active.sync="isLoading" 
      :is-full-page="fullPage">
    </loading>
     <add-user-page-icon></add-user-page-icon>
      <div class="row justify-content-center">
          <div class="col-md-12">
              <div class="card">
            <div class="card-header">
              <div class="card-tool">
                  <router-link to="/users"><button class="btn btn-outline-primary btn-flat"><i class="fa fa-arrow-left"></i> Go to list</button></router-link>
                  <router-link to="/users-capability"><button class="btn btn-outline-primary btn-flat float-right">Capability <i class="fa fa-arrow-right"></i></button></router-link>
              </div>
            </div>

            <form @submit.prevent="register" role="form">
              <div class="card-body">
                <div class="form-group">
                  <label for="fullname">Fullname <span class="required-asterisk">*</span></label>
                  <input v-model="form.fullname" type="text" class="form-control" :class="{ 'is-invalid': form.errors.has('fullname') }" id="fullname" placeholder="Enter fullname">
                  <has-error :form="form" field="fullname"></has-error>
                </div>  
                <div class="form-group">
                  <label for="email">Email address <span class="required-asterisk">*</span></label>
                  <input v-model="form.email" type="email" class="form-control" :class="{ 'is-invalid': form.errors.has('email') }" id="email" placeholder="Enter email">
                  <has-error :form="form" field="email"></has-error>
                </div>
                <div class="form-group">
                  <label for="role">Role <span class="required-asterisk">*</span></label>
                  <select v-model="form.role" @change="ifChangeRole" class="form-control" :class="{ 'is-invalid': form.errors.has('role') }" id="role">
                    <option v-for="item in role" :selected="item === form.role" :value="item">{{item}}</option>
                  </select>
                  <has-error :form="form" field="role"></has-error>
                </div>
                <div class="form-group" v-if="isSuperAdmin && isRecep">
                  <label for="assign_to">Assign to <span class="required-asterisk">*</span></label>
                  <select v-model="form.assignTo" class="form-control" :class="{ 'is-invalid': form.errors.has('assignTo') }" id="assignTo">
                    <option v-for="item in hotelOwnerEmails" :selected="item === form.assignTo" :value="item.id">{{item.email}}</option>
                  </select>
                  <has-error :form="form" field="assignTo"></has-error>
                </div>
                <div class="form-group">
                  <label for="status">Status <span class="required-asterisk">*</span></label>
                   <select v-model="form.status" class="form-control" :class="{ 'is-invalid': form.errors.has('status') }" id="status">
                    <option v-for="item in status" :selected="item === form.status" :value="item">{{item}}</option>
                   </select>
                  <has-error :form="form" field="status"></has-error>
                </div>
                <!-- <div class="form-group" v-if="userId != null">
                  <div class="custom-control custom-switch">
                    <input @click="toggleCheck" :checked="isCheckPass" type="checkbox" class="custom-control-input" id="isChangePass" name="isChangePass">
                    <label class="custom-control-label" for="isChangePass">Change password</label>
                  </div>
                </div> -->
                <!-- <div class="form-group" v-if="isCheckPass == true || userId == null">
                  <label for="password">Password <span class="required-asterisk">*</span></label>
                  <div class="input-group">
                      <input v-model="form.password" type="password" class="form-control" :class="{ 'is-invalid': form.errors.has('password') }" id="password" name="password">
                      <div class="input-group-append">
                          <span class="input-group-text">
                              <a href="#" @click.prevent="showHide"><i class="call-password fa fa-eye"></i></a>
                          </span>          
                      </div>
                      <has-error :form="form" field="password"></has-error>
                  </div>
                </div> -->
              </div>

              <div class="card-footer">
                <button :disabled="form.busy" type="submit" class="btn btn-outline-primary btn-flat"><i class="fa fa-save"></i> {{'Save'}}</button>
              </div>
            </form>
          </div>
        </div>
      </div>
  </div>